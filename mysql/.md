# SQL Interview Questions and Answers

### 1. What is the difference between CHAR and VARCHAR data types?

**Answer:**

- `CHAR` is a fixed-length character data type; pads unused space with blanks.
- `VARCHAR` is a variable-length character data type; stores only entered characters.

### 2. What is normalization?

**Answer:**
Normalization is organizing data to reduce redundancy and improve integrity, usually by breaking large tables into smaller ones and defining relationships.

### 3. Explain the difference between INNER JOIN and LEFT JOIN.

**Answer:**

- `INNER JOIN`: Returns rows with matching values in both tables.
- `LEFT JOIN`: Returns all rows from the left table and matched rows from the right; unmatched right table columns are `NULL`.

### 4. What is the purpose of the GROUP BY clause?

**Answer:**
Groups rows based on column values to perform aggregate functions like `COUNT()`, `SUM()`, `AVG()`, etc.

```sql
SELECT department, COUNT(*)
FROM employees
GROUP BY department;

```

### 5. Explain the difference between UNION and UNION ALL.

**Answer:**

- `UNION`: Combines results of two queries and removes duplicates.
- `UNION ALL`: Combines results and includes duplicates.

### 6. What is an index, and why is it used?

**Answer:**
An index is a database object that improves search performance on tables, created on one or more columns.

### 7. What is a stored procedure?

**Answer:**
A stored procedure is a collection of precompiled SQL statements stored in the database for reuse.

```sql
CREATE PROCEDURE GetAllEmployees()
BEGIN
  SELECT * FROM employees;
END;

```

### 8. Explain the ACID properties of a transaction.

**Answer:**

- **Atomicity:** All operations succeed or none do.
- **Consistency:** Database moves from one valid state to another.
- **Isolation:** Concurrent transactions are independent.
- **Durability:** Committed changes are permanent.

### 9. What is the purpose of the HAVING clause?

**Answer:**
Filters aggregated results after `GROUP BY`.

```sql
SELECT department, COUNT(*)
FROM employees
GROUP BY department
HAVING COUNT(*) > 5;
```

### 10. What is a view in SQL?

**Answer:**
A virtual table created from a query; it does not store data itself.

```sql
CREATE VIEW ActiveUsers AS
SELECT * FROM users WHERE status = 'active';
```

### 11. Explain the difference between a clustered and a non-clustered index.

**Answer:**

- **Clustered index:** Determines the physical order of table data.
- **Non-clustered index:** Points to data without changing its order.

### 12. What is the purpose of the ORDER BY clause?

**Answer:**
Sorts the result set in ascending (`ASC`) or descending (`DESC`) order.

```sql
SELECT * FROM employees ORDER BY name ASC;
```

### 13. What is a trigger?

**Answer:**
A trigger automatically executes SQL statements in response to events like `INSERT`, `UPDATE`, or `DELETE`.

```sql
CREATE TRIGGER before_insert
BEFORE INSERT ON employees
FOR EACH ROW
SET NEW.created_at = NOW();
```

### 14. Explain the difference between a candidate key, primary key, and a super key.

**Answer:**

- **Super key:** Uniquely identifies a row (may contain extra columns).
- **Candidate key:** Minimal super key (no redundant columns).
- **Primary key:** Chosen candidate key to uniquely identify records.

### 15. What is the purpose of the LIKE statement?

**Answer:**
Searches for a pattern in a column.

```sql
SELECT * FROM users WHERE name LIKE 'A%';
```

### 16. What is the difference between a view and a table?

**Answer:**

- **Table:** Physically stores data.
- **View:** Virtual, does not store data, based on a query.

### 17. What is a self-join?

**Answer:**
A join where a table is joined with itself.

```sql
SELECT A.name, B.name
FROM employees A, employees B
WHERE A.manager_id = B.id;
```

### 18. Explain the purpose of the IN operator.

**Answer:**
Filters data where a column value matches any value in a specified list.

```sql
SELECT * FROM users WHERE role IN ('admin', 'editor');
```

### 19. What is a subquery?

**Answer:**
A query embedded within another SQL query.

```sql
SELECT name FROM employees
WHERE department_id = (SELECT id FROM departments WHERE name = 'IT');
```

### 20. What is the purpose of GROUP BY and COUNT()?

**Answer:**

- `GROUP BY`: Groups rows for aggregation.
- `COUNT()`: Counts the number of rows in each group.

### 21. What is the difference between DELETE and TRUNCATE?

**Answer:**

- `DELETE`: Removes specific rows, can be rolled back.
- `TRUNCATE`: Removes all rows, faster, not always rollback-safe.

### 22. What is a cross join?

**Answer:**
Produces the Cartesian product of two tables (all combinations).

```sql
SELECT * FROM table1 CROSS JOIN table2;
```

### 23. What is the purpose of the BETWEEN operator?

**Answer:**
Filters rows within a range.

```sql
SELECT * FROM orders WHERE date BETWEEN '2023-01-01' AND '2023-12-31';
```

### 24. What is the purpose of the UPDATE statement?

**Answer:**
Modifies existing records in a table.

```sql
UPDATE users SET email = 'new@email.com' WHERE id = 1;
```

### 25. What is a composite key?

**Answer:**
A key formed by combining two or more columns to uniquely identify a row.

### 26. What is the difference between a view and a materialized view?

**Answer:**

- **View:** Virtual table, does not store data.
- **Materialized View:** Stores the query result physically for faster access.

### 27. What is the MAX() function?

**Answer:**
Returns the maximum value in a column.

```sql
SELECT MAX(salary) FROM employees;
```

### 28. What is the purpose of the DISTINCT keyword?

**Answer:**
Removes duplicate values from the result set.

```sql
SELECT DISTINCT department FROM employees;
```

### 29. What is the JOIN statement used for?

**Answer:**
Combines rows from two or more tables based on relationships between columns.

### 30. What is a cursor in SQL?

**Answer:**
Allows row-by-row processing of a query result set.

### 31. Difference between LEFT OUTER JOIN and RIGHT OUTER JOIN?

**Answer:**

- **LEFT JOIN:** All rows from the left table and matched right table rows.
- **RIGHT JOIN:** All rows from the right table and matched left table rows.

### 32. What is the AVG() function?

**Answer:**
Calculates the average of numeric values.

```sql
SELECT AVG(salary) FROM employees;
```

### 33. What is the CASE statement?

**Answer:**
Implements conditional logic in SQL (similar to `if-else`).

```sql
SELECT name,
       CASE
         WHEN salary > 50000 THEN 'High'
         ELSE 'Low'
       END AS salary_status
FROM employees;
```

### 34. Difference between a database and a schema?

**Answer:**

- **Database:** A collection of related data.
- **Schema:** Logical structure within a database (tables, views, procedures, etc.).

### 35. What is the COUNT() function?

**Answer:**
Counts the number of rows or non-null values in a column.

```sql
SELECT COUNT(*) FROM employees;
```

### 36. Difference between WHERE and HAVING clauses?

**Answer:**

- `WHERE`: Filters records before grouping.
- `HAVING`: Filters groups after `GROUP BY`.

### 37. What is the ROLLBACK statement?

**Answer:**
Undoes transactions that have not yet been committed.

```sql
ROLLBACK;
```

### 38. Difference between UNION and JOIN?

**Answer:**

- `UNION`: Combines result sets vertically.
- `JOIN`: Combines data horizontally based on related columns.

### 39. What is the TRIGGER statement?

**Answer:**
Defines triggers that automatically execute code on `INSERT`, `UPDATE`, or `DELETE` operations.

### 40. What is the SUM() function?

**Answer:**
Calculates the total sum of numeric values.

```sql
SELECT SUM(amount) FROM payments;
```

### 41. What is a natural join?

**Answer:**
Automatically joins tables based on columns with the same names, removing duplicate columns.

### 42. What is NULL in SQL?

**Answer:**
Represents missing or unknown value; different from 0 or an empty string.

### 43. Difference between UNIQUE and PRIMARY key?

**Answer:**

- **PRIMARY KEY:** Uniquely identifies records; only one per table.
- **UNIQUE:** Ensures column values are unique; multiple allowed per table.

### 44. What is the INSERT statement?

**Answer:**
Adds new records to a table.

```sql
INSERT INTO users (name, email) VALUES ('John', 'john@email.com');
```
